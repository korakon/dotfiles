#!/bin/bash

cd ~/org/


commit() {
    git commit -a -m "Automated commit by org-commit.service `date`"
}

# Only commit if there are changes
# Otherwise git will exit with a non 0 status code
# And systemd will treat that as a failure
if [ -n "$(git status --porcelain)" ]; then
    commit;
fi
